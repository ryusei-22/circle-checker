<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Circle Checker">
    <title>Circle Checker</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { 
            font-family: -apple-system, BlinkMacSystemFont, sans-serif;
            overscroll-behavior: none;
            touch-action: manipulation;
        }
        canvas { touch-action: none; }
        .touch-none { touch-action: none; }
        
        /* PWAÂØæÂøú */
        @media (display-mode: standalone) {
            body { padding-top: env(safe-area-inset-top); }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useRef, useEffect } = React;

        // ÂÆüÈöõ„ÅÆ„Ç®„ÇØ„Çª„É´„Éá„Éº„Çø
        const EXCEL_DATA = [
            {"Âà§Êñ≠ÂÜÜ":"Ë¶™ÂÜÜ","„Çø„Ç§„Éó":"„Ç¨„Ç§„Éá„Ç£„É≥„Ç∞„Ç´„ÉÜ","ÂêçÁß∞":"5Fr","ÊúÄÂ§ßÂ§ñÂæÑ":1.5},
            {"Âà§Êñ≠ÂÜÜ":"Ë¶™ÂÜÜ","„Çø„Ç§„Éó":"„Ç¨„Ç§„Éá„Ç£„É≥„Ç∞„Ç´„ÉÜ","ÂêçÁß∞":"6Fr","ÊúÄÂ§ßÂ§ñÂæÑ":1.8},
            {"Âà§Êñ≠ÂÜÜ":"Ë¶™ÂÜÜ","„Çø„Ç§„Éó":"„Ç¨„Ç§„Éá„Ç£„É≥„Ç∞„Ç´„ÉÜ","ÂêçÁß∞":"7Fr","ÊúÄÂ§ßÂ§ñÂæÑ":2.06},
            {"Âà§Êñ≠ÂÜÜ":"Ë¶™ÂÜÜ","„Çø„Ç§„Éó":"„Ç¨„Ç§„Éá„Ç£„É≥„Ç∞„Ç´„ÉÜ","ÂêçÁß∞":"8Fr","ÊúÄÂ§ßÂ§ñÂæÑ":2.28},
            {"Âà§Êñ≠ÂÜÜ":"Ë¶™ÂÜÜ","„Çø„Ç§„Éó":"„Ç¨„Ç§„Éâ„Ç®„ÇØ„Çπ„ÉÜ„É≥„Ç∑„Éß„É≥","ÂêçÁß∞":"EZ Guide„ÄÄ5.5Fr ","ÊúÄÂ§ßÂ§ñÂæÑ":1.3},
            {"Âà§Êñ≠ÂÜÜ":"Ë¶™ÂÜÜ","„Çø„Ç§„Éó":"„Ç¨„Ç§„Éâ„Ç®„ÇØ„Çπ„ÉÜ„É≥„Ç∑„Éß„É≥","ÂêçÁß∞":"EZ Guide„ÄÄ6Fr","ÊúÄÂ§ßÂ§ñÂæÑ":1.42},
            {"Âà§Êñ≠ÂÜÜ":"Ë¶™ÂÜÜ","„Çø„Ç§„Éó":"„Ç¨„Ç§„Éâ„Ç®„ÇØ„Çπ„ÉÜ„É≥„Ç∑„Éß„É≥","ÂêçÁß∞":"GUIDE PLUS 5Fr","ÊúÄÂ§ßÂ§ñÂæÑ":1.19},
            {"Âà§Êñ≠ÂÜÜ":"Ë¶™ÂÜÜ","„Çø„Ç§„Éó":"„Ç¨„Ç§„Éâ„Ç®„ÇØ„Çπ„ÉÜ„É≥„Ç∑„Éß„É≥","ÂêçÁß∞":"GUIDE PLUS ‚Ö°ST„ÄÄÔºñFr","ÊúÄÂ§ßÂ§ñÂæÑ":1.33},
            {"Âà§Êñ≠ÂÜÜ":"Ë¶™ÂÜÜ","„Çø„Ç§„Éó":"„Ç¨„Ç§„Éâ„Ç®„ÇØ„Çπ„ÉÜ„É≥„Ç∑„Éß„É≥","ÂêçÁß∞":"HIKYAKU","ÊúÄÂ§ßÂ§ñÂæÑ":1.48},
            {"Âà§Êñ≠ÂÜÜ":"Â≠êÂÜÜ","„Çø„Ç§„Éó":"„Éê„É´„Éº„É≥„ÄîSC„Äï","ÂêçÁß∞":"Ryurei„Äê1.00-1.50mm„Äë","ÊúÄÂ§ßÂ§ñÂæÑ":0.89,"„Ç∑„É£„Éï„ÉàÂæÑ":0.64},
            {"Âà§Êñ≠ÂÜÜ":"Â≠êÂÜÜ","„Çø„Ç§„Éó":"„Éê„É´„Éº„É≥„ÄîSC„Äï","ÂêçÁß∞":"Ryurei„Äê2.00-4.00mm„Äë","ÊúÄÂ§ßÂ§ñÂæÑ":0.87,"„Ç∑„É£„Éï„ÉàÂæÑ":0.64},
            {"Âà§Êñ≠ÂÜÜ":"Â≠êÂÜÜ","„Çø„Ç§„Éó":"„Éê„É´„Éº„É≥„ÄîSC„Äï","ÂêçÁß∞":"ZINRAI„Äê0.75-1.00mm„Äë","ÊúÄÂ§ßÂ§ñÂæÑ":0.87,"„Ç∑„É£„Éï„ÉàÂæÑ":0.65},
            {"Âà§Êñ≠ÂÜÜ":"Â≠êÂÜÜ","„Çø„Ç§„Éó":"„Éê„É´„Éº„É≥„ÄîSC„Äï","ÂêçÁß∞":"ZINRAI„Äê1.50-2.50mm„Äë","ÊúÄÂ§ßÂ§ñÂæÑ":0.84,"„Ç∑„É£„Éï„ÉàÂæÑ":0.6},
            {"Âà§Êñ≠ÂÜÜ":"Â≠êÂÜÜ","„Çø„Ç§„Éó":"„Éê„É´„Éº„É≥„ÄîSC„Äï","ÂêçÁß∞":"Regnam„Äê2.00-3.00mm„Äë","ÊúÄÂ§ßÂ§ñÂæÑ":0.83,"„Ç∑„É£„Éï„ÉàÂæÑ":0.7},
            {"Âà§Êñ≠ÂÜÜ":"Â≠êÂÜÜ","„Çø„Ç§„Éó":"„Éê„É´„Éº„É≥„ÄîSC„Äï","ÂêçÁß∞":"Euphora„Äê1.5-3.00mm„Äë","ÊúÄÂ§ßÂ§ñÂæÑ":0.84,"„Ç∑„É£„Éï„ÉàÂæÑ":0.69},
            {"Âà§Êñ≠ÂÜÜ":"Â≠êÂÜÜ","„Çø„Ç§„Éó":"„Éê„É´„Éº„É≥„ÄîSC„Äï","ÂêçÁß∞":"MINI TREK„Äê2.00mm„Äë","ÊúÄÂ§ßÂ§ñÂæÑ":0.76,"„Ç∑„É£„Éï„ÉàÂæÑ":0.69},
            {"Âà§Êñ≠ÂÜÜ":"Â≠êÂÜÜ","„Çø„Ç§„Éó":"„Éê„É´„Éº„É≥„ÄîSC„Äï","ÂêçÁß∞":"TREK„Äê2.50-3.50mm„Äë","ÊúÄÂ§ßÂ§ñÂæÑ":0.81,"„Ç∑„É£„Éï„ÉàÂæÑ":0.69},
            {"Âà§Êñ≠ÂÜÜ":"Â≠êÂÜÜ","„Çø„Ç§„Éó":"„Éê„É´„Éº„É≥„ÄîNC„Äï","ÂêçÁß∞":"NC Kamui„Äê2.50-3.50mm„Äë","ÊúÄÂ§ßÂ§ñÂæÑ":0.83,"„Ç∑„É£„Éï„ÉàÂæÑ":0.7},
            {"Âà§Êñ≠ÂÜÜ":"Â≠êÂÜÜ","„Çø„Ç§„Éó":"„Éê„É´„Éº„É≥„ÄîNC„Äï","ÂêçÁß∞":"NC Kamui„Äê3.75-4.50mm„Äë","ÊúÄÂ§ßÂ§ñÂæÑ":0.87,"„Ç∑„É£„Éï„ÉàÂæÑ":0.7},
            {"Âà§Êñ≠ÂÜÜ":"Â≠êÂÜÜ","„Çø„Ç§„Éó":"„Éê„É´„Éº„É≥„ÄîNC„Äï","ÂêçÁß∞":"Powered3 NC„Äê2.50mm„Äë","ÊúÄÂ§ßÂ§ñÂæÑ":0.81,"„Ç∑„É£„Éï„ÉàÂæÑ":0.69,"ÂÇôËÄÉ":"ÈÅ©ÂøúGC :6Fr  „Éá„Éï„É¨ÊôÇ„ÄÅ‰∏äÊâã„ÅèÁï≥„Åæ„Çå„Å™„ÅÑ„Å®5Fr„Å†„Å®Êäú„Åë„Å™„ÅÑÂèØËÉΩÊÄß„ÅÇ„Çä"},
            {"Âà§Êñ≠ÂÜÜ":"Â≠êÂÜÜ","„Çø„Ç§„Éó":"„Éê„É´„Éº„É≥„ÄîNC„Äï","ÂêçÁß∞":"Powered3 NC„Äê2.75-3.50mm„Äë","ÊúÄÂ§ßÂ§ñÂæÑ":0.83,"„Ç∑„É£„Éï„ÉàÂæÑ":0.69,"ÂÇôËÄÉ":"ÈÅ©ÂøúGC :6Fr  „Éá„Éï„É¨ÊôÇ„ÄÅ‰∏äÊâã„ÅèÁï≥„Åæ„Çå„Å™„ÅÑ„Å®5Fr„Å†„Å®Êäú„Åë„Å™„ÅÑÂèØËÉΩÊÄß„ÅÇ„Çä"},
            {"Âà§Êñ≠ÂÜÜ":"Â≠êÂÜÜ","„Çø„Ç§„Éó":"„Éê„É´„Éº„É≥„ÄîNC„Äï","ÂêçÁß∞":"Powered3 NC„Äê3.75-4.00mm„Äë","ÊúÄÂ§ßÂ§ñÂæÑ":0.86,"„Ç∑„É£„Éï„ÉàÂæÑ":0.69,"ÂÇôËÄÉ":"ÈÅ©ÂøúGC :6Fr  „Éá„Éï„É¨ÊôÇ„ÄÅ‰∏äÊâã„ÅèÁï≥„Åæ„Çå„Å™„ÅÑ„Å®5Fr„Å†„Å®Êäú„Åë„Å™„ÅÑÂèØËÉΩÊÄß„ÅÇ„Çä"},
            {"Âà§Êñ≠ÂÜÜ":"Â≠êÂÜÜ","„Çø„Ç§„Éó":"„Éê„É´„Éº„É≥„ÄîNC„Äï","ÂêçÁß∞":"Hiryu Plus„Äê2.00-4.00mm„Äë","ÊúÄÂ§ßÂ§ñÂæÑ":0.87,"„Ç∑„É£„Éï„ÉàÂæÑ":0.64},
            {"Âà§Êñ≠ÂÜÜ":"Â≠êÂÜÜ","„Çø„Ç§„Éó":"„Éê„É´„Éº„É≥„ÄîNC„Äï","ÂêçÁß∞":"Hiryu Plus„Äê4.00-5.00mm„Äë","ÊúÄÂ§ßÂ§ñÂæÑ":0.87,"„Ç∑„É£„Éï„ÉàÂæÑ":0.64,"ÂÇôËÄÉ":"ÈÅ©ÂøúGC :6Fr  GC/MID(mm): 1.78 "},
            {"Âà§Êñ≠ÂÜÜ":"Â≠êÂÜÜ","„Çø„Ç§„Éó":"„Éê„É´„Éº„É≥„ÄîNC„Äï","ÂêçÁß∞":"Hiryu IB„Äê1.25mm„Äë","ÊúÄÂ§ßÂ§ñÂæÑ":0.87,"„Ç∑„É£„Éï„ÉàÂæÑ":0.64},
            {"Âà§Êñ≠ÂÜÜ":"Â≠êÂÜÜ","„Çø„Ç§„Éó":"„Éê„É´„Éº„É≥„Äî„Åù„ÅÆ‰ªñ„Äï","ÂêçÁß∞":"Sequent Please NEO „Äê2.00-3.50mm„Äë","ÊúÄÂ§ßÂ§ñÂæÑ":0.83,"„Ç∑„É£„Éï„ÉàÂæÑ":0.63,"ÂÇôËÄÉ":"‚Äª„Éê„É´„Éº„É≥„ÅØ5FrÂØæÂøú„Å†„Åå„ÄÅdrug„ÅåÂâ•„Åå„Çå„Çã„Åä„Åù„Çå„Åå„ÅÇ„Çã„Åü„ÇÅ„ÄÅGC/MID(mm):1.65„ÇíÂ§ß„Åç„Åè„Åó„Å¶„ÅÑ„Çã"},
            {"Âà§Êñ≠ÂÜÜ":"Â≠êÂÜÜ","„Çø„Ç§„Éó":"„Éê„É´„Éº„É≥„Äî„Åù„ÅÆ‰ªñ„Äï","ÂêçÁß∞":"Aperta NSE„Äê2.00-3.50mm„Äë","ÊúÄÂ§ßÂ§ñÂæÑ":0.86,"„Ç∑„É£„Éï„ÉàÂæÑ":0.68},
            {"Âà§Êñ≠ÂÜÜ":"Â≠êÂÜÜ","„Çø„Ç§„Éó":"„Éê„É´„Éº„É≥„Äî„Åù„ÅÆ‰ªñ„Äï","ÂêçÁß∞":"kIZASHI„Äê2.0-3.00mm„Äë","ÊúÄÂ§ßÂ§ñÂæÑ":0.99,"„Ç∑„É£„Éï„ÉàÂæÑ":0.7},
            {"Âà§Êñ≠ÂÜÜ":"Â≠êÂÜÜ","„Çø„Ç§„Éó":"„Éê„É´„Éº„É≥„Äî„Åù„ÅÆ‰ªñ„Äï","ÂêçÁß∞":"kIZASHI„Äê3.50-mm„Äë","ÊúÄÂ§ßÂ§ñÂæÑ":0.99,"„Ç∑„É£„Éï„ÉàÂæÑ":0.7,"ÂÇôËÄÉ":"ÈÅ©ÂøúGC :6Fr  GC/MID(mm): 1.78 "},
            {"Âà§Êñ≠ÂÜÜ":"Â≠êÂÜÜ","„Çø„Ç§„Éó":"„Éê„É´„Éº„É≥„Äî„Åù„ÅÆ‰ªñ„Äï","ÂêçÁß∞":"Wolverine„Äê2.00-3.00mm„Äë","ÊúÄÂ§ßÂ§ñÂæÑ":0.91,"„Ç∑„É£„Éï„ÉàÂæÑ":0.59},
            {"Âà§Êñ≠ÂÜÜ":"Â≠êÂÜÜ","„Çø„Ç§„Éó":"„Éê„É´„Éº„É≥„ÄîNC„Äï","ÂêçÁß∞":"Ace HP„Äê2.50-3.00mm„Äë","ÊúÄÂ§ßÂ§ñÂæÑ":0.8,"„Ç∑„É£„Éï„ÉàÂæÑ":0.66},
            {"Âà§Êñ≠ÂÜÜ":"Â≠êÂÜÜ","„Çø„Ç§„Éó":"„Éê„É´„Éº„É≥„ÄîNC„Äï","ÂêçÁß∞":"Ace HP„Äê3.50-4.00mm„Äë","ÊúÄÂ§ßÂ§ñÂæÑ":0.86,"„Ç∑„É£„Éï„ÉàÂæÑ":0.66},
            {"Âà§Êñ≠ÂÜÜ":"Â≠êÂÜÜ","„Çø„Ç§„Éó":"„Éê„É´„Éº„É≥„ÄîNC„Äï","ÂêçÁß∞":"NC Euphora„Äê2.25-3.50mm„Äë","ÊúÄÂ§ßÂ§ñÂæÑ":0.89,"„Ç∑„É£„Éï„ÉàÂæÑ":0.69},
            {"Âà§Êñ≠ÂÜÜ":"Â≠êÂÜÜ","„Çø„Ç§„Éó":"„Éê„É´„Éº„É≥„Äî„Åù„ÅÆ‰ªñ„Äï","ÂêçÁß∞":"Ryusei„Äê2.50-3.50mm„Äë","ÊúÄÂ§ßÂ§ñÂæÑ":1.13},
            {"Âà§Êñ≠ÂÜÜ":"Â≠êÂÜÜ","„Çø„Ç§„Éó":"„Çπ„ÉÜ„É≥„Éà","ÂêçÁß∞":"Xience Skypoint-38mm„Äê2.25-4.0mm„Äë","ÊúÄÂ§ßÂ§ñÂæÑ":0.93,"„Ç∑„É£„Éï„ÉàÂæÑ":0.71},
            {"Âà§Êñ≠ÂÜÜ":"Â≠êÂÜÜ","„Çø„Ç§„Éó":"„Çπ„ÉÜ„É≥„Éà","ÂêçÁß∞":"Xience Skypoint-48mm„Äê2.25-4.0mm„Äë","ÊúÄÂ§ßÂ§ñÂæÑ":0.93,"„Ç∑„É£„Éï„ÉàÂæÑ":0.71,"ÂÇôËÄÉ":"ÈÅ©ÂøúGC :6Fr  GC/MID(mm): 1.78 "},
            {"Âà§Êñ≠ÂÜÜ":"Â≠êÂÜÜ","„Çø„Ç§„Éó":"„Çπ„ÉÜ„É≥„Éà","ÂêçÁß∞":"Resolute„Äê2.25-3.5mm„Äë","ÊúÄÂ§ßÂ§ñÂæÑ":0.91,"„Ç∑„É£„Éï„ÉàÂæÑ":0.69},
            {"Âà§Êñ≠ÂÜÜ":"Â≠êÂÜÜ","„Çø„Ç§„Éó":"„Çπ„ÉÜ„É≥„Éà","ÂêçÁß∞":"Coroflex ISAR NEO„Äê2.5-3.5mm„Äë","ÊúÄÂ§ßÂ§ñÂæÑ":0.83,"„Ç∑„É£„Éï„ÉàÂæÑ":0.63},
            {"Âà§Êñ≠ÂÜÜ":"Â≠êÂÜÜ","„Çø„Ç§„Éó":"„Çπ„ÉÜ„É≥„Éà","ÂêçÁß∞":"Orsiro Mission„Äê2.25-3.0mm„Äë","ÊúÄÂ§ßÂ§ñÂæÑ":0.89,"„Ç∑„É£„Éï„ÉàÂæÑ":0.66},
            {"Âà§Êñ≠ÂÜÜ":"Â≠êÂÜÜ","„Çø„Ç§„Éó":"„Çπ„ÉÜ„É≥„Éà","ÂêçÁß∞":"Orsiro Mission„Äê3.50mm„Äë","ÊúÄÂ§ßÂ§ñÂæÑ":0.96,"„Ç∑„É£„Éï„ÉàÂæÑ":0.66},
            {"Âà§Êñ≠ÂÜÜ":"Â≠êÂÜÜ","„Çø„Ç§„Éó":"„Çπ„ÉÜ„É≥„Éà","ÂêçÁß∞":"BioFreedom Ultra„Äê2.5-4.0mm„Äë","ÊúÄÂ§ßÂ§ñÂæÑ":0.86,"„Ç∑„É£„Éï„ÉàÂæÑ":0.7},
            {"Âà§Êñ≠ÂÜÜ":"Â≠êÂÜÜ","„Çø„Ç§„Éó":"„Éû„Ç§„ÇØ„É≠„Ç´„ÉÜ„Éº„ÉÜ„É´","ÂêçÁß∞":"Caravel MC","ÊúÄÂ§ßÂ§ñÂæÑ":0.85},
            {"Âà§Êñ≠ÂÜÜ":"Â≠êÂÜÜ","„Çø„Ç§„Éó":"„Éû„Ç§„ÇØ„É≠„Ç´„ÉÜ„Éº„ÉÜ„É´","ÂêçÁß∞":"Zizai","ÊúÄÂ§ßÂ§ñÂæÑ":0.94},
            {"Âà§Êñ≠ÂÜÜ":"Â≠êÂÜÜ","„Çø„Ç§„Éó":"„Éû„Ç§„ÇØ„É≠„Ç´„ÉÜ„Éº„ÉÜ„É´","ÂêçÁß∞":"Mogul SP„ÄÄThinner","ÊúÄÂ§ßÂ§ñÂæÑ":0.87},
            {"Âà§Êñ≠ÂÜÜ":"Â≠êÂÜÜ","„Çø„Ç§„Éó":"„Éû„Ç§„ÇØ„É≠„Ç´„ÉÜ„Éº„ÉÜ„É´","ÂêçÁß∞":"Mogul SP","ÊúÄÂ§ßÂ§ñÂæÑ":0.87},
            {"Âà§Êñ≠ÂÜÜ":"Â≠êÂÜÜ","„Çø„Ç§„Éó":"„Éû„Ç§„ÇØ„É≠„Ç´„ÉÜ„Éº„ÉÜ„É´","ÂêçÁß∞":"MITICHIBIKI PLUS","ÊúÄÂ§ßÂ§ñÂæÑ":0.94},
            {"Âà§Êñ≠ÂÜÜ":"Â≠êÂÜÜ","„Çø„Ç§„Éó":"„Éû„Ç§„ÇØ„É≠„Ç´„ÉÜ„Éº„ÉÜ„É´","ÂêçÁß∞":"Fine Cross GT","ÊúÄÂ§ßÂ§ñÂæÑ":0.87},
            {"Âà§Êñ≠ÂÜÜ":"Â≠êÂÜÜ","„Çø„Ç§„Éó":"„Éû„Ç§„ÇØ„É≠„Ç´„ÉÜ„Éº„ÉÜ„É´","ÂêçÁß∞":"carry Leon UX19","ÊúÄÂ§ßÂ§ñÂæÑ":0.63},
            {"Âà§Êñ≠ÂÜÜ":"Â≠êÂÜÜ","„Çø„Ç§„Éó":"„Éû„Ç§„ÇØ„É≠„Ç´„ÉÜ„Éº„ÉÜ„É´","ÂêçÁß∞":"Corsair Pro","ÊúÄÂ§ßÂ§ñÂæÑ":0.93},
            {"Âà§Êñ≠ÂÜÜ":"Â≠êÂÜÜ","„Çø„Ç§„Éó":"„Éû„Ç§„ÇØ„É≠„Ç´„ÉÜ„Éº„ÉÜ„É´","ÂêçÁß∞":"Corsair Pro XS","ÊúÄÂ§ßÂ§ñÂæÑ":0.95},
            {"Âà§Êñ≠ÂÜÜ":"Â≠êÂÜÜ","„Çø„Ç§„Éó":"„Éû„Ç§„ÇØ„É≠„Ç´„ÉÜ„Éº„ÉÜ„É´","ÂêçÁß∞":"Crusade type R","ÊúÄÂ§ßÂ§ñÂæÑ":1.06},
            {"Âà§Êñ≠ÂÜÜ":"Â≠êÂÜÜ","„Çø„Ç§„Éó":"„Éû„Ç§„ÇØ„É≠„Ç´„ÉÜ„Éº„ÉÜ„É´","ÂêçÁß∞":"SASUKE","ÊúÄÂ§ßÂ§ñÂæÑ":1.05},
            {"Âà§Êñ≠ÂÜÜ":"Â≠êÂÜÜ","„Çø„Ç§„Éó":"Êú´Ê¢¢‰øùË≠∑","ÂêçÁß∞":"PARACHUTE","ÊúÄÂ§ßÂ§ñÂæÑ":0.36},
            {"Âà§Êñ≠ÂÜÜ":"Â≠êÂÜÜ","„Çø„Ç§„Éó":"Êú´Ê¢¢‰øùË≠∑","ÂêçÁß∞":"FILTRAP‚Ö°","ÊúÄÂ§ßÂ§ñÂæÑ":0.89},
            {"Âà§Êñ≠ÂÜÜ":"Â≠êÂÜÜ","„Çø„Ç§„Éó":"‰∫§ÊèõÁî®„Ç´„ÉÜ„Éº„ÉÜ„É´","ÂêçÁß∞":"KUSABI","ÊúÄÂ§ßÂ§ñÂæÑ":0.68},
            {"Âà§Êñ≠ÂÜÜ":"Â≠êÂÜÜ","„Çø„Ç§„Éó":"‰∫§ÊèõÁî®„Ç´„ÉÜ„Éº„ÉÜ„É´","ÂêçÁß∞":"EZ Keeper","ÊúÄÂ§ßÂ§ñÂæÑ":0.68},
            {"Âà§Êñ≠ÂÜÜ":"Â≠êÂÜÜ","„Çø„Ç§„Éó":"FFR„ÉØ„Ç§„É§„Éº","ÂêçÁß∞":"Comet ‚Ö°","ÊúÄÂ§ßÂ§ñÂæÑ":0.36},
            {"Âà§Êñ≠ÂÜÜ":"Â≠êÂÜÜ","„Çø„Ç§„Éó":"IVUS","ÂêçÁß∞":"OptiCross","ÊúÄÂ§ßÂ§ñÂæÑ":1.05},
            {"Âà§Êñ≠ÂÜÜ":"Â≠êÂÜÜ","„Çø„Ç§„Éó":"Ë°ÄÊ†ìÂê∏Âºï","ÂêçÁß∞":"Thrombuster‚Ö° 6Fr","ÊúÄÂ§ßÂ§ñÂæÑ":1.3},
            {"Âà§Êñ≠ÂÜÜ":"Â≠êÂÜÜ","„Çø„Ç§„Éó":"Ë°ÄÊ†ìÂê∏Âºï","ÂêçÁß∞":"Thrombuster‚Ö° 7Fr","ÊúÄÂ§ßÂ§ñÂæÑ":1.52},
            {"Âà§Êñ≠ÂÜÜ":"Â≠êÂÜÜ","„Çø„Ç§„Éó":"Ë°ÄÊ†ìÂê∏Âºï","ÂêçÁß∞":"Thrombuster‚Ö° 8Fr","ÊúÄÂ§ßÂ§ñÂæÑ":1.74},
            {"Âà§Êñ≠ÂÜÜ":"Â≠êÂÜÜ","„Çø„Ç§„Éó":"„Åù„ÅÆ‰ªñ","ÂêçÁß∞":"Snare Kit","ÊúÄÂ§ßÂ§ñÂæÑ":1.35},
            {"Âà§Êñ≠ÂÜÜ":"Â≠êÂÜÜ","„Çø„Ç§„Éó":"„Ç¨„Ç§„Éâ„ÉØ„Ç§„É§„Éº","ÂêçÁß∞":"1.4Wire","ÊúÄÂ§ßÂ§ñÂæÑ":0.36},
            {"Âà§Êñ≠ÂÜÜ":"Â≠êÂÜÜ","„Çø„Ç§„Éó":"„Ç¨„Ç§„Éâ„ÉØ„Ç§„É§„Éº","ÂêçÁß∞":"RGÔºì","ÊúÄÂ§ßÂ§ñÂæÑ":0.26},
            {"Âà§Êñ≠ÂÜÜ":"Â≠êÂÜÜ","„Çø„Ç§„Éó":"„Ç¨„Ç§„Éâ„Ç®„ÇØ„Çπ„ÉÜ„É≥„Ç∑„Éß„É≥","ÂêçÁß∞":"EZ Guide„ÄÄ5.5Fr ","ÊúÄÂ§ßÂ§ñÂæÑ":1.3},
            {"Âà§Êñ≠ÂÜÜ":"Â≠êÂÜÜ","„Çø„Ç§„Éó":"„Ç¨„Ç§„Éâ„Ç®„ÇØ„Çπ„ÉÜ„É≥„Ç∑„Éß„É≥","ÂêçÁß∞":"EZ Guide„ÄÄ6Fr","ÊúÄÂ§ßÂ§ñÂæÑ":1.42},
            {"Âà§Êñ≠ÂÜÜ":"Â≠êÂÜÜ","„Çø„Ç§„Éó":"„Ç¨„Ç§„Éâ„Ç®„ÇØ„Çπ„ÉÜ„É≥„Ç∑„Éß„É≥","ÂêçÁß∞":"GUIDE PLUS 5Fr","ÊúÄÂ§ßÂ§ñÂæÑ":1.19},
            {"Âà§Êñ≠ÂÜÜ":"Â≠êÂÜÜ","„Çø„Ç§„Éó":"„Ç¨„Ç§„Éâ„Ç®„ÇØ„Çπ„ÉÜ„É≥„Ç∑„Éß„É≥","ÂêçÁß∞":"GUIDE PLUS ‚Ö°ST„ÄÄÔºñFr","ÊúÄÂ§ßÂ§ñÂæÑ":1.33}
        ];

        // iPhoneÁî®„Å´ÊúÄÈÅ©Âåñ„Åï„Çå„Åü„Çµ„Ç§„Ç∫Ë®≠ÂÆö
        const SCALE_FACTOR = 140; // 80„Åã„Çâ140„Å´Â¢óÂä†Ôºà1.75ÂÄçÔºâ
        const CANVAS_SIZE = 380;  // 300„Åã„Çâ380„Å´Â¢óÂä†
        const MIN_CHILD_RADIUS = 25; // ÊúÄÂ∞èÂçäÂæÑ„ÇíÂ§ß„Åç„ÅèÔºà15„Åã„Çâ25„Å´Ôºâ
        const MAX_CHILD_RADIUS = 65; // ÊúÄÂ§ßÂçäÂæÑ„ÇíÂ§ß„Åç„ÅèÔºà40„Åã„Çâ65„Å´Ôºâ

        const CircleChecker = () => {
            const [activeTab, setActiveTab] = useState('setup');
            const [database, setDatabase] = useState(EXCEL_DATA);
            const [parentCircles, setParentCircles] = useState([]);
            const [childCirclesData, setChildCirclesData] = useState([]);
            const [selectedParent, setSelectedParent] = useState(null);
            const [selectedType, setSelectedType] = useState('');
            const [selectedName, setSelectedName] = useState('');
            const [selectedPattern, setSelectedPattern] = useState('pattern1');
            const [childCircles, setChildCircles] = useState([]);
            const [selectedCircleIndex, setSelectedCircleIndex] = useState(null);
            const [searchTerm, setSearchTerm] = useState('');
            const canvasRef = useRef(null);

            const [dragState, setDragState] = useState({
                isDragging: false,
                dragIndex: null,
                startPos: { x: 0, y: 0 }
            });

            // „Éá„Éº„Çø„Éô„Éº„ÇπÂàùÊúüÂåñ
            useEffect(() => {
                const parents = database.filter(item => item['Âà§Êñ≠ÂÜÜ'] === 'Ë¶™ÂÜÜ');
                const children = database.filter(item => item['Âà§Êñ≠ÂÜÜ'] === 'Â≠êÂÜÜ');
                setParentCircles(parents);
                setChildCirclesData(children);
                
                if (parents.length > 0) {
                    setSelectedParent(parents[0]);
                }
            }, [database]);

            // „Ç≠„É£„É≥„Éê„ÇπÂàùÊúüÂåñ
            useEffect(() => {
                if (canvasRef.current) {
                    canvasRef.current.width = CANVAS_SIZE;
                    canvasRef.current.height = CANVAS_SIZE;
                }
            }, []);

            // „Ç≠„É£„É≥„Éê„ÇπÊèèÁîª
            useEffect(() => {
                if (activeTab === 'canvas') {
                    const timer = setTimeout(() => {
                        drawCanvas();
                    }, 100);
                    return () => clearTimeout(timer);
                }
            }, [activeTab]);

            useEffect(() => {
                drawCanvas();
            }, [selectedParent, childCircles, selectedCircleIndex]);

            const drawCanvas = () => {
                const canvas = canvasRef.current;
                if (!canvas) return;

                if (canvas.width !== CANVAS_SIZE || canvas.height !== CANVAS_SIZE) {
                    canvas.width = CANVAS_SIZE;
                    canvas.height = CANVAS_SIZE;
                }

                const ctx = canvas.getContext('2d');
                ctx.clearRect(0, 0, canvas.width, canvas.height);

                // Ë¶™ÂÜÜÊèèÁîª
                if (selectedParent) {
                    const centerX = CANVAS_SIZE / 2;
                    const centerY = CANVAS_SIZE / 2;
                    const radius = Math.min((selectedParent.ÊúÄÂ§ßÂ§ñÂæÑ * SCALE_FACTOR) / 2, (CANVAS_SIZE / 2) - 30);

                    ctx.beginPath();
                    ctx.arc(centerX, centerY, radius, 0, Math.PI * 2);
                    ctx.strokeStyle = '#8E8E93';
                    ctx.lineWidth = 3; // Á∑ö„ÇíÂ§™„Åè
                    ctx.stroke();
                    
                    // „É©„Éô„É´Ôºà„Çµ„Ç§„Ç∫„Ç¢„ÉÉ„ÉóÔºâ
                    ctx.fillStyle = '#1D1D1F';
                    ctx.font = 'bold 14px -apple-system, BlinkMacSystemFont, sans-serif';
                    ctx.textAlign = 'center';
                    ctx.fillText(`${selectedParent.ÂêçÁß∞} (${selectedParent.ÊúÄÂ§ßÂ§ñÂæÑ}mm)`, centerX, centerY - radius - 15);
                }

                // Â≠êÂÜÜÊèèÁîª
                childCircles.forEach((circle, index) => {
                    const radius = Math.max(
                        MIN_CHILD_RADIUS,
                        Math.min((circle.activeSize * SCALE_FACTOR) / 2, MAX_CHILD_RADIUS)
                    );
                    
                    ctx.beginPath();
                    ctx.arc(circle.x, circle.y, radius, 0, Math.PI * 2);

                    // Èáç„Å™„Çä„ÉÅ„Çß„ÉÉ„ÇØ
                    const centerX = CANVAS_SIZE / 2;
                    const centerY = CANVAS_SIZE / 2;
                    const parentRadius = selectedParent ? Math.min((selectedParent.ÊúÄÂ§ßÂ§ñÂæÑ * SCALE_FACTOR) / 2, (CANVAS_SIZE / 2) - 30) : 0;
                    const distanceFromCenter = Math.sqrt((circle.x - centerX) ** 2 + (circle.y - centerY) ** 2);
                    const isOutsideParent = distanceFromCenter + radius > parentRadius;

                    // ‰ªñ„ÅÆÂÜÜ„Å®„ÅÆÈáç„Å™„Çä„ÉÅ„Çß„ÉÉ„ÇØ
                    const hasCircleOverlap = childCircles.some((other, j) => {
                        if (index === j) return false;
                        const otherRadius = Math.max(
                            MIN_CHILD_RADIUS,
                            Math.min((other.activeSize * SCALE_FACTOR) / 2, MAX_CHILD_RADIUS)
                        );
                        const distance = Math.sqrt((circle.x - other.x) ** 2 + (circle.y - other.y) ** 2);
                        return distance < radius + otherRadius;
                    });

                    // Áä∂ÊÖã„ÇíÂÜÜ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„Å´‰øùÂ≠ò
                    circle.isOutsideParent = isOutsideParent;
                    circle.hasCircleOverlap = hasCircleOverlap;

                    // Ëâ≤Ë®≠ÂÆö
                    if (isOutsideParent) {
                        ctx.fillStyle = 'rgba(255, 59, 48, 0.4)'; // Ëµ§ÔºöË¶™ÂÜÜÂ§ñ
                    } else if (hasCircleOverlap) {
                        ctx.fillStyle = 'rgba(255, 149, 0, 0.4)'; // „Ç™„É¨„É≥„Ç∏ÔºöÂ≠êÂÜÜÈáç„Å™„Çä
                    } else {
                        ctx.fillStyle = circle.pattern === 'pattern1' ? 'rgba(0, 122, 255, 0.4)' : 'rgba(52, 199, 89, 0.4)';
                    }

                    ctx.fill();
                    
                    // ÈÅ∏ÊäûÊôÇ„ÅÆÂº∑Ë™ø
                    if (index === selectedCircleIndex) {
                        ctx.strokeStyle = '#FF3B30';
                        ctx.lineWidth = 4; // ÈÅ∏ÊäûÊôÇ„ÅØÊõ¥„Å´Â§™„Åè
                    } else {
                        ctx.strokeStyle = '#8E8E93';
                        ctx.lineWidth = 2; // ÈÄöÂ∏∏ÊôÇ„ÇÇÂ§™„Åè
                    }
                    ctx.stroke();

                    // „É©„Éô„É´Ôºà„Çµ„Ç§„Ç∫„Ç¢„ÉÉ„ÉóÔºâ
                    if (radius > 20) {
                        ctx.fillStyle = '#1D1D1F';
                        ctx.font = 'bold 11px -apple-system, BlinkMacSystemFont, sans-serif';
                        ctx.textAlign = 'center';
                        const shortName = circle.ÂêçÁß∞.split('„Äê')[0].substring(0, 8);
                        ctx.fillText(shortName, circle.x, circle.y + 3);
                    }
                });
            };

            const getTouchPosition = (e, canvas) => {
                const rect = canvas.getBoundingClientRect();
                const clientX = e.touches ? e.touches[0].clientX : e.clientX;
                const clientY = e.touches ? e.touches[0].clientY : e.clientY;
                
                return {
                    x: (clientX - rect.left) * (canvas.width / rect.width),
                    y: (clientY - rect.top) * (canvas.height / rect.height)
                };
            };

            const findCircleAtPosition = (x, y) => {
                for (let i = childCircles.length - 1; i >= 0; i--) {
                    const circle = childCircles[i];
                    const dx = x - circle.x;
                    const dy = y - circle.y;
                    const distance = Math.sqrt(dx * dx + dy * dy);
                    const radius = Math.max(
                        MIN_CHILD_RADIUS,
                        Math.min((circle.activeSize * SCALE_FACTOR) / 2, MAX_CHILD_RADIUS)
                    );
                    
                    // „Çø„ÉÉ„ÉÅ„Ç®„É™„Ç¢„ÇíÂ∫É„Åí„ÇãÔºà+10„Éî„ÇØ„Çª„É´Ôºâ
                    if (distance <= radius + 10) {
                        return i;
                    }
                }
                return null;
            };

            const handleStart = (e) => {
                e.preventDefault();
                const canvas = canvasRef.current;
                if (!canvas) return;

                const pos = getTouchPosition(e, canvas);
                const circleIndex = findCircleAtPosition(pos.x, pos.y);
                
                if (circleIndex !== null) {
                    setSelectedCircleIndex(circleIndex);
                    setDragState({
                        isDragging: false,
                        dragIndex: circleIndex,
                        startPos: pos
                    });
                } else {
                    setSelectedCircleIndex(null);
                }
            };

            const handleMove = (e) => {
                e.preventDefault();
                if (dragState.dragIndex === null) return;

                const canvas = canvasRef.current;
                if (!canvas) return;

                const pos = getTouchPosition(e, canvas);
                const deltaX = pos.x - dragState.startPos.x;
                const deltaY = pos.y - dragState.startPos.y;
                const distance = Math.sqrt(deltaX * deltaX + deltaY * deltaY);

                // „Éâ„É©„ÉÉ„Ç∞ÈñãÂßã„ÅÆÈñæÂÄ§„ÇíÂ∞è„Åï„ÅèÔºà„Çà„Çä„É¨„Çπ„Éù„É≥„Ç∑„Éñ„Å´Ôºâ
                if (!dragState.isDragging && distance > 3) {
                    setDragState(prev => ({ ...prev, isDragging: true }));
                }

                if (dragState.isDragging) {
                    setChildCircles(prev => prev.map((circle, index) => {
                        if (index !== dragState.dragIndex) return circle;
                        
                        const radius = Math.max(
                            MIN_CHILD_RADIUS,
                            Math.min((circle.activeSize * SCALE_FACTOR) / 2, MAX_CHILD_RADIUS)
                        );
                        const newX = Math.max(radius, Math.min(CANVAS_SIZE - radius, pos.x));
                        const newY = Math.max(radius, Math.min(CANVAS_SIZE - radius, pos.y));
                        
                        return { ...circle, x: newX, y: newY };
                    }));
                }
            };

            const handleEnd = (e) => {
                e.preventDefault();
                setDragState({
                    isDragging: false,
                    dragIndex: null,
                    startPos: { x: 0, y: 0 }
                });
            };

            const handleAddCircle = () => {
                if (!selectedParent || !selectedName) return;

                const selectedCircle = childCirclesData.find(
                    circle => circle.ÂêçÁß∞ === selectedName && circle.„Çø„Ç§„Éó === selectedType
                );

                if (!selectedCircle) return;

                const diameter = selectedPattern === 'pattern1' ? selectedCircle.ÊúÄÂ§ßÂ§ñÂæÑ : (selectedCircle.„Ç∑„É£„Éï„ÉàÂæÑ || selectedCircle.ÊúÄÂ§ßÂ§ñÂæÑ);
                
                const newCircle = {
                    ...selectedCircle,
                    x: CANVAS_SIZE / 2,
                    y: CANVAS_SIZE / 2,
                    pattern: selectedPattern,
                    activeSize: diameter,
                    isOverlapping: false
                };
                
                setChildCircles(prev => [...prev, newCircle]);
                setSelectedCircleIndex(childCircles.length);
                setActiveTab('canvas');
            };

            const removeCircle = (index) => {
                setChildCircles(prev => prev.filter((_, i) => i !== index));
                if (selectedCircleIndex === index) {
                    setSelectedCircleIndex(null);
                } else if (selectedCircleIndex > index) {
                    setSelectedCircleIndex(prev => prev - 1);
                }
            };

            const togglePattern = () => {
                if (selectedCircleIndex === null) return;
                
                setChildCircles(prev => prev.map((circle, index) => {
                    if (index !== selectedCircleIndex) return circle;
                    
                    const newPattern = circle.pattern === 'pattern1' ? 'pattern2' : 'pattern1';
                    const newActiveSize = newPattern === 'pattern1' ? circle.ÊúÄÂ§ßÂ§ñÂæÑ : (circle.„Ç∑„É£„Éï„ÉàÂæÑ || circle.ÊúÄÂ§ßÂ§ñÂæÑ);
                    
                    return {
                        ...circle,
                        pattern: newPattern,
                        activeSize: newActiveSize
                    };
                }));
            };

            const exportData = () => {
                const dataStr = JSON.stringify(database, null, 2);
                const dataBlob = new Blob([dataStr], { type: 'application/json' });
                const url = URL.createObjectURL(dataBlob);
                const link = document.createElement('a');
                link.href = url;
                link.download = 'pci_database.json';
                link.click();
                URL.revokeObjectURL(url);
            };

            const importData = (event) => {
                const file = event.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = (e) => {
                        try {
                            const jsonData = JSON.parse(e.target.result);
                            setDatabase(jsonData);
                            alert('„Éá„Éº„Çø„ÅÆ„Ç§„É≥„Éù„Éº„Éà„ÅåÂÆå‰∫Ü„Åó„Åæ„Åó„ÅüÔºÅ');
                        } catch (error) {
                            alert('„Éï„Ç°„Ç§„É´„ÅÆË™≠„ÅøËæº„Åø„Ç®„É©„Éº: ' + error.message);
                        }
                    };
                    reader.readAsText(file);
                }
            };

            // ÂÜÜ„ÅÆÁä∂ÊÖã„ÇíÂà§ÂÆö„Åô„ÇãÈñ¢Êï∞
            const getCircleStatus = (circle) => {
                if (circle.isOutsideParent) {
                    return { 
                        status: 'outside', 
                        color: 'bg-red-100 border-red-200', 
                        textColor: 'text-red-800',
                        label: 'Ë¶™ÂÜÜÂ§ñ'
                    };
                } else if (circle.hasCircleOverlap) {
                    return { 
                        status: 'overlap', 
                        color: 'bg-orange-100 border-orange-200', 
                        textColor: 'text-orange-800',
                        label: 'Èáç„Å™„Çä'
                    };
                } else {
                    return { 
                        status: 'normal', 
                        color: circle.pattern === 'pattern1' ? 'bg-blue-50 border-blue-200' : 'bg-green-50 border-green-200', 
                        textColor: circle.pattern === 'pattern1' ? 'text-blue-800' : 'text-green-800',
                        label: 'Ê≠£Â∏∏'
                    };
                }
            };

            const uniqueTypes = [...new Set(childCirclesData.map(circle => circle.„Çø„Ç§„Éó))];
            const filteredByType = childCirclesData.filter(circle => circle.„Çø„Ç§„Éó === selectedType);
            const selectedCircle = selectedCircleIndex !== null ? childCircles[selectedCircleIndex] : null;

            // Ê§úÁ¥¢„Éï„Ç£„É´„Çø„É™„É≥„Ç∞
            const filteredDatabase = database.filter(item => 
                item.ÂêçÁß∞.toLowerCase().includes(searchTerm.toLowerCase()) ||
                item.„Çø„Ç§„Éó.toLowerCase().includes(searchTerm.toLowerCase())
            );

            return (
                <div className="min-h-screen bg-gray-50">
                    {/* „Éò„ÉÉ„ÉÄ„Éº */}
                    <header className="bg-white border-b border-gray-200 sticky top-0 z-50">
                        <div className="max-w-md mx-auto px-4 py-4">
                            <div className="flex items-center justify-between mb-4">
                                <h1 className="text-2xl font-semibold text-gray-900">Circle Checker</h1>
                                <div className="w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center">
                                    <span className="text-white text-sm font-medium">‚óØ</span>
                                </div>
                            </div>
                            
                            {/* „Çø„Éñ */}
                            <div className="flex bg-gray-100 rounded-lg p-1">
                                {[
                                    { id: 'setup', label: 'Ë®≠ÂÆö', icon: '‚öôÔ∏è' },
                                    { id: 'canvas', label: 'ÈÖçÁΩÆ', icon: 'üéØ' },
                                    { id: 'list', label: '‰∏ÄË¶ß', icon: 'üìã' },
                                    { id: 'database', label: 'DB', icon: 'üóÑÔ∏è' }
                                ].map(tab => (
                                    <button
                                        key={tab.id}
                                        onClick={() => setActiveTab(tab.id)}
                                        className={`flex-1 py-2 px-2 rounded-md text-xs font-medium transition-all ${
                                            activeTab === tab.id
                                                ? 'bg-white text-blue-600 shadow-sm'
                                                : 'text-gray-600 hover:text-gray-900'
                                        }`}
                                    >
                                        <div className="flex flex-col items-center space-y-1">
                                            <span>{tab.icon}</span>
                                            <span>{tab.label}</span>
                                        </div>
                                    </button>
                                ))}
                            </div>
                        </div>
                    </header>

                    <main className="max-w-md mx-auto px-4 py-6">
                        {/* Ë®≠ÂÆö„Çø„Éñ */}
                        {activeTab === 'setup' && (
                            <div className="space-y-6">
                                <div className="bg-white rounded-xl p-6 shadow-sm">
                                    <h2 className="text-lg font-semibold text-gray-900 mb-4">ÂÜÜ„ÅÆË®≠ÂÆö</h2>
                                    
                                    <div className="space-y-4">
                                        {/* Ë¶™ÂÜÜÈÅ∏Êäû */}
                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-2">Ë¶™ÂÜÜ</label>
                                            <select
                                                value={selectedParent?.ÂêçÁß∞ || ''}
                                                onChange={(e) => {
                                                    const parent = parentCircles.find(p => p.ÂêçÁß∞ === e.target.value);
                                                    setSelectedParent(parent);
                                                }}
                                                className="w-full px-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-base"
                                            >
                                                <option value="">ÈÅ∏Êäû„Åó„Å¶„Åè„Å†„Åï„ÅÑ</option>
                                                {parentCircles.map((circle, index) => (
                                                    <option key={index} value={circle.ÂêçÁß∞}>
                                                        {circle.„Çø„Ç§„Éó} - {circle.ÂêçÁß∞} ({circle.ÊúÄÂ§ßÂ§ñÂæÑ}mm)
                                                    </option>
                                                ))}
                                            </select>
                                        </div>

                                        {/* „Çø„Ç§„ÉóÈÅ∏Êäû */}
                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-2">„Çø„Ç§„Éó</label>
                                            <select
                                                value={selectedType}
                                                onChange={(e) => {
                                                    setSelectedType(e.target.value);
                                                    setSelectedName('');
                                                }}
                                                className="w-full px-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-base"
                                            >
                                                <option value="">ÈÅ∏Êäû„Åó„Å¶„Åè„Å†„Åï„ÅÑ</option>
                                                {uniqueTypes.map((type, index) => (
                                                    <option key={index} value={type}>{type}</option>
                                                ))}
                                            </select>
                                        </div>

                                        {/* ÂêçÁß∞ÈÅ∏Êäû */}
                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-2">ÂêçÁß∞</label>
                                            <select
                                                value={selectedName}
                                                onChange={(e) => setSelectedName(e.target.value)}
                                                disabled={!selectedType}
                                                className="w-full px-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-100 text-base"
                                            >
                                                <option value="">ÈÅ∏Êäû„Åó„Å¶„Åè„Å†„Åï„ÅÑ</option>
                                                {filteredByType.map((circle, index) => (
                                                    <option key={index} value={circle.ÂêçÁß∞}>
                                                        {circle.ÂêçÁß∞}
                                                    </option>
                                                ))}
                                            </select>
                                        </div>

                                        {/* ÈÅ∏Êäû„Åï„Çå„ÅüÂÜÜ„ÅÆË©≥Á¥∞ÊÉÖÂ†± */}
                                        {selectedName && (() => {
                                            const selectedDetail = filteredByType.find(c => c.ÂêçÁß∞ === selectedName);
                                            return (
                                                <div className="bg-blue-50 rounded-lg p-4">
                                                    <h4 className="font-medium text-blue-900 mb-2">Ë©≥Á¥∞ÊÉÖÂ†±</h4>
                                                    <div className="text-sm text-blue-800 space-y-1">
                                                        <p>ÊúÄÂ§ßÂ§ñÂæÑ: {selectedDetail?.ÊúÄÂ§ßÂ§ñÂæÑ}mm</p>
                                                        {selectedDetail?.„Ç∑„É£„Éï„ÉàÂæÑ && (
                                                            <p>„Ç∑„É£„Éï„ÉàÂæÑ: {selectedDetail.„Ç∑„É£„Éï„ÉàÂæÑ}mm</p>
                                                        )}
                                                        {selectedDetail?.ÂÇôËÄÉ && (
                                                            <p className="text-xs bg-yellow-100 text-yellow-800 p-2 rounded mt-2">
                                                                üí° {selectedDetail.ÂÇôËÄÉ}
                                                            </p>
                                                        )}
                                                    </div>
                                                </div>
                                            );
                                        })()}

                                        {/* „Éë„Çø„Éº„É≥ÈÅ∏Êäû */}
                                        {selectedName && (
                                            <div>
                                                <label className="block text-sm font-medium text-gray-700 mb-2">Áõ¥ÂæÑ„Éë„Çø„Éº„É≥</label>
                                                <div className="flex space-x-3">
                                                    <label className="flex-1">
                                                        <input
                                                            type="radio"
                                                            name="pattern"
                                                            value="pattern1"
                                                            checked={selectedPattern === 'pattern1'}
                                                            onChange={(e) => setSelectedPattern(e.target.value)}
                                                            className="sr-only"
                                                        />
                                                        <div className={`p-4 border-2 rounded-lg text-center cursor-pointer transition-all ${
                                                            selectedPattern === 'pattern1'
                                                                ? 'border-blue-500 bg-blue-50 text-blue-700'
                                                                : 'border-gray-300 text-gray-700 hover:border-gray-400'
                                                        }`}>
                                                            <div className="text-xl mb-2">üîµ</div>
                                                            <div className="text-sm font-medium">ÊúÄÂ§ßÂ§ñÂæÑ</div>
                                                        </div>
                                                    </label>
                                                    <label className="flex-1">
                                                        <input
                                                            type="radio"
                                                            name="pattern"
                                                            value="pattern2"
                                                            checked={selectedPattern === 'pattern2'}
                                                            onChange={(e) => setSelectedPattern(e.target.value)}
                                                            className="sr-only"
                                                        />
                                                        <div className={`p-4 border-2 rounded-lg text-center cursor-pointer transition-all ${
                                                            selectedPattern === 'pattern2'
                                                                ? 'border-green-500 bg-green-50 text-green-700'
                                                                : 'border-gray-300 text-gray-700 hover:border-gray-400'
                                                        }`}>
                                                            <div className="text-xl mb-2">üü¢</div>
                                                            <div className="text-sm font-medium">„Ç∑„É£„Éï„ÉàÂæÑ</div>
                                                        </div>
                                                    </label>
                                                </div>
                                            </div>
                                        )}

                                        <button
                                            onClick={handleAddCircle}
                                            disabled={!selectedParent || !selectedName}
                                            className="w-full py-4 px-4 bg-blue-500 text-white rounded-lg font-medium disabled:bg-gray-300 disabled:cursor-not-allowed hover:bg-blue-600 transition-colors text-lg"
                                        >
                                            ÂÜÜ„ÇíËøΩÂä†
                                        </button>
                                    </div>
                                </div>
                            </div>
                        )}

                        {/* ÈÖçÁΩÆ„Çø„Éñ */}
                        {activeTab === 'canvas' && (
                            <div className="space-y-6">
                                <div className="bg-white rounded-xl p-6 shadow-sm">
                                    <div className="flex items-center justify-between mb-4">
                                        <h2 className="text-lg font-semibold text-gray-900">ÈÖçÁΩÆÂõ≥</h2>
                                        {childCircles.length > 0 && (
                                            <span className="bg-blue-100 text-blue-800 text-xs font-medium px-2 py-1 rounded-full">
                                                {childCircles.length}ÂÄã
                                            </span>
                                        )}
                                    </div>
                                    
                                    <div className="flex justify-center mb-4">
                                        <canvas
                                            ref={canvasRef}
                                            onTouchStart={handleStart}
                                            onTouchMove={handleMove}
                                            onTouchEnd={handleEnd}
                                            onMouseDown={handleStart}
                                            onMouseMove={handleMove}
                                            onMouseUp={handleEnd}
                                            onMouseLeave={handleEnd}
                                            className="border border-gray-200 rounded-lg bg-white cursor-pointer touch-none"
                                            style={{ maxWidth: '100%', height: 'auto' }}
                                        />
                                    </div>

                                    {childCircles.length === 0 && (
                                        <div className="text-center py-8">
                                            <div className="text-4xl mb-2">‚≠ï</div>
                                            <p className="text-gray-500 text-sm mb-2">Ë®≠ÂÆö„Çø„Éñ„ÅßÂÜÜ„ÇíËøΩÂä†„Åó„Å¶„Åè„Å†„Åï„ÅÑ</p>
                                            <p className="text-gray-400 text-xs">ÂÜÜ„Çí„Çø„ÉÉ„Éó„Åó„Å¶ÈÅ∏Êäû„Éª„Éâ„É©„ÉÉ„Ç∞„ÅßÁßªÂãï</p>
                                        </div>
                                    )}
                                </div>

                                {/* „Ç≥„É≥„Éà„É≠„Éº„É´ */}
                                {selectedCircle && (
                                    <div className="bg-white rounded-xl p-6 shadow-sm">
                                        <h3 className="text-lg font-semibold text-gray-900 mb-4">ÈÅ∏Êäû‰∏≠„ÅÆÂÜÜ</h3>
                                        <div className="bg-gray-50 rounded-lg p-4 mb-4">
                                            <p className="font-medium text-gray-900">{selectedCircle.ÂêçÁß∞.split('„Äê')[0]}</p>
                                            <p className="text-sm text-gray-600">
                                                {selectedCircle.pattern === 'pattern1' ? 'ÊúÄÂ§ßÂ§ñÂæÑ' : '„Ç∑„É£„Éï„ÉàÂæÑ'}: {selectedCircle.activeSize}mm
                                            </p>
                                            {selectedCircle.ÂÇôËÄÉ && (
                                                <p className="text-xs text-yellow-700 bg-yellow-100 p-2 rounded mt-2">
                                                    üí° {selectedCircle.ÂÇôËÄÉ}
                                                </p>
                                            )}
                                        </div>

                                        <div className="flex space-x-3">
                                            <button 
                                                onClick={togglePattern} 
                                                className="flex-1 bg-blue-100 hover:bg-blue-200 text-blue-700 py-4 px-4 rounded-lg font-medium transition-colors"
                                            >
                                                „Éë„Çø„Éº„É≥ÂàáÊõø
                                            </button>
                                            <button
                                                onClick={() => removeCircle(selectedCircleIndex)}
                                                className="bg-red-500 hover:bg-red-600 text-white py-4 px-4 rounded-lg font-medium transition-colors"
                                            >
                                                ÂâäÈô§
                                            </button>
                                        </div>
                                    </div>
                                )}
                            </div>
                        )}

                        {/* ‰∏ÄË¶ß„Çø„Éñ */}
                        {activeTab === 'list' && (
                            <div className="space-y-4">
                                <div className="flex items-center justify-between">
                                    <h2 className="text-lg font-semibold text-gray-900">ÈÖçÁΩÆÊ∏à„ÅøÂÜÜ‰∏ÄË¶ß</h2>
                                    {childCircles.length > 0 && (
                                        <span className="bg-blue-100 text-blue-800 text-xs font-medium px-2 py-1 rounded-full">
                                            {childCircles.length}ÂÄã
                                        </span>
                                    )}
                                </div>

                                {childCircles.length === 0 ? (
                                    <div className="bg-white rounded-xl p-8 shadow-sm text-center">
                                        <div className="text-4xl mb-2">üìã</div>
                                        <p className="text-gray-500 mb-4">„Åæ„Å†ÂÜÜ„ÅåÈÖçÁΩÆ„Åï„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì</p>
                                        <button
                                            onClick={() => setActiveTab('setup')}
                                            className="px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors"
                                        >
                                            Ë®≠ÂÆö„Çø„Éñ„ÅßËøΩÂä†
                                        </button>
                                    </div>
                                ) : (
                                    <div className="space-y-3">
                                        {childCircles.map((circle, index) => {
                                            const circleStatus = getCircleStatus(circle);
                                            return (
                                                <div
                                                    key={index}
                                                    onClick={() => {
                                                        setSelectedCircleIndex(index);
                                                        setActiveTab('canvas');
                                                    }}
                                                    className={`rounded-xl p-4 shadow-sm cursor-pointer transition-all border-2 ${
                                                        circleStatus.color
                                                    } ${
                                                        index === selectedCircleIndex ? 'ring-2 ring-blue-500' : 'hover:shadow-md'
                                                    }`}
                                                >
                                                    <div className="flex items-center justify-between">
                                                        <div className="flex-1">
                                                            <div className="flex items-center space-x-2 mb-1">
                                                                <h3 className="font-medium text-gray-900">{circle.ÂêçÁß∞.split('„Äê')[0]}</h3>
                                                                <span className={`text-xs font-medium px-2 py-1 rounded-full ${circleStatus.color} ${circleStatus.textColor}`}>
                                                                    {circleStatus.label}
                                                                </span>
                                                            </div>
                                                            <p className="text-sm text-gray-600">{circle.„Çø„Ç§„Éó}</p>
                                                            <p className="text-sm text-blue-600">
                                                                {circle.pattern === 'pattern1' ? 'ÊúÄÂ§ßÂ§ñÂæÑ' : '„Ç∑„É£„Éï„ÉàÂæÑ'}: {circle.activeSize}mm
                                                            </p>
                                                            {circle.ÂÇôËÄÉ && (
                                                                <p className="text-xs text-yellow-700 bg-yellow-100 p-1 rounded mt-1">
                                                                    üí° {circle.ÂÇôËÄÉ.substring(0, 30)}...
                                                                </p>
                                                            )}
                                                        </div>
                                                        <div className="flex flex-col items-center space-y-2">
                                                            <span className={`w-4 h-4 rounded-full ${
                                                                circle.isOutsideParent ? 'bg-red-500' :
                                                                circle.hasCircleOverlap ? 'bg-orange-500' :
                                                                circle.pattern === 'pattern1' ? 'bg-blue-500' : 'bg-green-500'
                                                            }`}></span>
                                                            {index === selectedCircleIndex && (
                                                                <span className="bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full">ÈÅ∏Êäû‰∏≠</span>
                                                            )}
                                                        </div>
                                                    </div>
                                                </div>
                                            );
                                        })}
                                        {childCircles.length > 0 && (
                                            <div className="mt-4 space-y-3">
                                                {/* Áä∂ÊÖãÁµ±Ë®à */}
                                                <div className="bg-gray-50 rounded-lg p-3">
                                                    <h4 className="font-medium text-gray-700 mb-2 text-sm">ÈÖçÁΩÆÁä∂Ê≥Å</h4>
                                                    <div className="grid grid-cols-3 gap-2 text-xs">
                                                        <div className="text-center">
                                                            <div className="text-lg font-bold text-blue-600">
                                                                {childCircles.filter(c => !c.isOutsideParent && !c.hasCircleOverlap).length}
                                                            </div>
                                                            <div className="text-blue-600">Ê≠£Â∏∏</div>
                                                        </div>
                                                        <div className="text-center">
                                                            <div className="text-lg font-bold text-orange-600">
                                                                {childCircles.filter(c => c.hasCircleOverlap).length}
                                                            </div>
                                                            <div className="text-orange-600">Èáç„Å™„Çä</div>
                                                        </div>
                                                        <div className="text-center">
                                                            <div className="text-lg font-bold text-red-600">
                                                                {childCircles.filter(c => c.isOutsideParent).length}
                                                            </div>
                                                            <div className="text-red-600">Ë¶™ÂÜÜÂ§ñ</div>
                                                        </div>
                                                    </div>
                                                </div>
                                                
                                                <button
                                                    onClick={() => {
                                                        if (confirm(`ÈÖçÁΩÆÊ∏à„Åø„ÅÆ${childCircles.length}ÂÄã„ÅÆÂÜÜ„Çí„Åô„Åπ„Å¶ÂâäÈô§„Åó„Åæ„Åô„ÅãÔºü`)) {
                                                            setChildCircles([]);
                                                            setSelectedCircleIndex(null);
                                                        }
                                                    }}
                                                    className="w-full py-3 px-4 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors"
                                                >
                                                    „Åô„Åπ„Å¶ÂâäÈô§
                                                </button>
                                            </div>
                                        )}
                                    </div>
                                )}
                            </div>
                        )}

                        {/* „Éá„Éº„Çø„Éô„Éº„Çπ„Çø„Éñ */}
                        {activeTab === 'database' && (
                            <div className="space-y-6">
                                <div className="bg-white rounded-xl p-6 shadow-sm">
                                    <div className="flex items-center justify-between mb-4">
                                        <h2 className="text-lg font-semibold text-gray-900">„Éá„Éº„Çø„Éô„Éº„ÇπÁÆ°ÁêÜ</h2>
                                        <span className="bg-green-100 text-green-800 text-xs font-medium px-2 py-1 rounded-full">
                                            {database.length}‰ª∂
                                        </span>
                                    </div>

                                    {/* Ê§úÁ¥¢„Éê„Éº */}
                                    <div className="mb-4">
                                        <input
                                            type="text"
                                            placeholder="ÂêçÁß∞„ÇÑ„Çø„Ç§„Éó„ÅßÊ§úÁ¥¢..."
                                            value={searchTerm}
                                            onChange={(e) => setSearchTerm(e.target.value)}
                                            className="w-full px-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-base"
                                        />
                                    </div>

                                    {/* „Éá„Éº„ÇøÁÆ°ÁêÜ„Éú„Çø„É≥ */}
                                    <div className="flex space-x-2 mb-4">
                                        <button
                                            onClick={exportData}
                                            className="flex-1 py-3 px-3 bg-green-500 text-white rounded-lg text-sm hover:bg-green-600 transition-colors"
                                        >
                                            üì§ „Ç®„ÇØ„Çπ„Éù„Éº„Éà
                                        </button>
                                        <label className="flex-1 py-3 px-3 bg-blue-500 text-white rounded-lg text-sm hover:bg-blue-600 transition-colors cursor-pointer text-center">
                                            üì• „Ç§„É≥„Éù„Éº„Éà
                                            <input
                                                type="file"
                                                accept=".json"
                                                onChange={importData}
                                                className="hidden"
                                            />
                                        </label>
                                    </div>

                                    {/* „Éá„Éº„Çø„É™„Çπ„Éà */}
                                    <div className="max-h-96 overflow-y-auto space-y-2">
                                        {filteredDatabase.map((item, index) => (
                                            <div key={index} className="border border-gray-200 rounded-lg p-3">
                                                <div className="flex items-center justify-between">
                                                    <div className="flex-1">
                                                        <div className="flex items-center space-x-2">
                                                            <span className={`w-2 h-2 rounded-full ${
                                                                item.Âà§Êñ≠ÂÜÜ === 'Ë¶™ÂÜÜ' ? 'bg-blue-500' : 'bg-green-500'
                                                            }`}></span>
                                                            <span className="font-medium text-sm">{item.ÂêçÁß∞}</span>
                                                        </div>
                                                        <p className="text-xs text-gray-600">{item.„Çø„Ç§„Éó}</p>
                                                        <p className="text-xs text-gray-500">
                                                            ÊúÄÂ§ßÂ§ñÂæÑ: {item.ÊúÄÂ§ßÂ§ñÂæÑ}mm
                                                            {item.„Ç∑„É£„Éï„ÉàÂæÑ && ` | „Ç∑„É£„Éï„ÉàÂæÑ: ${item.„Ç∑„É£„Éï„ÉàÂæÑ}mm`}
                                                        </p>
                                                        {item.ÂÇôËÄÉ && (
                                                            <p className="text-xs text-yellow-700 bg-yellow-100 p-1 rounded mt-1">
                                                                üí° {item.ÂÇôËÄÉ.substring(0, 50)}...
                                                            </p>
                                                        )}
                                                    </div>
                                                </div>
                                            </div>
                                        ))}
                                    </div>

                                    {filteredDatabase.length === 0 && searchTerm && (
                                        <div className="text-center py-8">
                                            <div className="text-2xl mb-2">üîç</div>
                                            <p className="text-gray-500 text-sm">Ê§úÁ¥¢ÁµêÊûú„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì</p>
                                        </div>
                                    )}
                                </div>

                                {/* Áµ±Ë®àÊÉÖÂ†± */}
                                <div className="bg-white rounded-xl p-6 shadow-sm">
                                    <h3 className="text-lg font-semibold text-gray-900 mb-4">„Éá„Éº„ÇøÁµ±Ë®à</h3>
                                    <div className="grid grid-cols-2 gap-4">
                                        <div className="text-center p-3 bg-blue-50 rounded-lg">
                                            <div className="text-2xl font-bold text-blue-600">{parentCircles.length}</div>
                                            <div className="text-sm text-blue-600">Ë¶™ÂÜÜ</div>
                                        </div>
                                        <div className="text-center p-3 bg-green-50 rounded-lg">
                                            <div className="text-2xl font-bold text-green-600">{childCirclesData.length}</div>
                                            <div className="text-sm text-green-600">Â≠êÂÜÜ</div>
                                        </div>
                                    </div>
                                    
                                    <div className="mt-4">
                                        <h4 className="font-medium text-gray-700 mb-2">„Çø„Ç§„ÉóÂà•Áµ±Ë®à</h4>
                                        <div className="space-y-1 text-sm">
                                            {uniqueTypes.slice(0, 5).map(type => {
                                                const count = childCirclesData.filter(c => c.„Çø„Ç§„Éó === type).length;
                                                return (
                                                    <div key={type} className="flex justify-between">
                                                        <span className="text-gray-600">{type}</span>
                                                        <span className="font-medium">{count}‰ª∂</span>
                                                    </div>
                                                );
                                            })}
                                            {uniqueTypes.length > 5 && (
                                                <div className="text-xs text-gray-500 text-center pt-2">
                                                    ‰ªñ {uniqueTypes.length - 5} „Çø„Ç§„Éó
                                                </div>
                                            )}
                                        </div>
                                    </div>
                                </div>
                            </div>
                        )}
                    </main>
                </div>
            );
        };

        ReactDOM.render(<CircleChecker />, document.getElementById('root'));
    </script>
</body>
</html>
